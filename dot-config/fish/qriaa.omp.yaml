# yaml-language-server: $schema=https://raw.githubusercontent.com/JanDeDobbeleer/oh-my-posh/main/themes/schema.json

version: 3
final_space: true
shell_integration: true
maps:
  user_name:
    root: ‚ö°
blocks:
  - type: prompt
    alignment: left
    segments:
      - type: path
        style: powerline
        powerline_symbol: "ÓÇ∞"
        foreground: "#FFFFFF"
        background: "#61AFEF"
        properties:
          style: folder
      - type: git
        style: powerline
        powerline_symbol: ÓÇ∞
        foreground: "#193549"
        background: "#ffeb3b"
        background_templates:
          - "{{ if or (.Working.Changed) (.Staging.Changed) }}#FFEB3B{{ end }}"
          - "{{ if and (gt .Ahead 0) (gt .Behind 0) }}#FFCC80{{ end }}"
          - "{{ if gt .Ahead 0 }}#B388FF{{ end }}"
          - "{{ if gt .Behind 0 }}#B388FB{{ end }}"
        template: "{{ .UpstreamIcon }}{{ .HEAD }}{{if .BranchStatus }} {{ .BranchStatus
        }}{{ end }}{{ if .Working.Changed }} ÔÅÑ {{ .Working.String }}{{ end }}{{ if and
        (.Working.Changed) (.Staging.Changed) }} |{{ end }}{{ if .Staging.Changed }} ÔÅÜ
        {{ .Staging.String }}{{ end }}{{ if gt .StashCount 0 }} ÔÉá {{ .StashCount }}{{
        end }}"
        properties:
          fetch_status: true
          fetch_upstream_icon: true
          source: cli
          mapped_branches:
            feat/*: "üöÄ "
            bug/*: "üêõ "
          github_icon: "ÔÇõ "
  - type: prompt
    alignment: right
    overflow: hide
    segments:
      - type: kubectl
        style: powerline
        powerline_symbol: "ÓÉñ"
        foreground: "#FFFFFF"
        background: "#326CE5"
        template: "Û∞†≥  {{.Context}}{{if .Namespace}} :: {{.Namespace}}{{end}} "
      - type: gcp
        style: powerline
        powerline_symbol: "ÓÉñ"
        foreground: "#FFFFFF"
        background: "#34A853"
        template: "Û±á∂  {{.Project}} :: {{.Account}} "
      - type: aws
        style: powerline
        powerline_symbol: "ÓÉñ"
        foreground: "#000000"
        background: "#FF9900"
        template: "Ôâ∞  {{.Profile}}{{if .Region}} :: {{.Region}}{{end}}"
  - type: prompt
    alignment: left
    newline: true
    segments:
      - type: text
        style: plain
        template: >- 
          {{ if eq .Env.FISH__BIND_MODE "default" }}<red>‚ùÆ</>{{ else if eq
          .Env.FISH__BIND_MODE "insert" }}<green>‚ùØ</>{{ else if eq
          .Env.FISH__BIND_MODE "replace_one" }}<green>‚ùØ</>{{ else if eq
          .Env.FISH__BIND_MODE "visual"}}<brmagenta>‚ùÆ</>{{ else }}<red>[?]</>{{ end
          }}
# transient_prompt:
#   background: transparent
#   foreground: "#ffffff"
#   template: "{{ .Shell }}> "
